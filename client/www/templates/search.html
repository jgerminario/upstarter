<ion-header-bar class="bar bar-header bar-stable">
  <img class="upstarter-logo" src="/img/Upstarter.png">
</ion-header-bar>

<ion-view view-title="Search" class="homepage">
  <ion-content class="content padding has-header">

    <div class="filter-wrapper">
      <div class="list list-inset">
        <label class="item item-input">
          <i class="icon ion-search placeholder-icon"></i>
          <input type="search"
                 ng-model="main.searchInput.name"
                 ng-change="setSearch(main.searchInput.name)"
                 placeholder="Search Companies" />
        </label>
      </div>
      <a ng-click="employees = !employees"
         class="button button-block button-balanced">Additional Search Options</a>

      <div class="card" ng-show="employees">
        <div class="item item-text-wrap">
          <div class="list">
            Distance from Current Location {{SearchCtrl.distance}} in miles
             <div class="item range range-positive">
                <i class="icon ion-ios7"></i>

                  <input type="range" name="radius" min="1" max="100" ng-model="SearchCtrl.distance"  ng-change="search_radius(SearchCtrl.distance)">

                <i class="icon ion-ios7"></i>
            </div>
           </div>
         </div>
      </div>

       <div class="card" ng-show="employees">
        <div class="item item-text-wrap">
          <div class="list">
            Number of Employees {{SearchCtrl.employees}}
             <div class="item range range-royal">
                <i class="icon ion-ios7"></i>

                  <input type="range" name="radius" min="1" max="1000" ng-model="SearchCtrl.employees"  ng-change="search_employees(SearchCtrl.employees)">

                <i class="icon ion-ios7"></i>
            </div>
           </div>
         </div>
      </div>

    </div>

    <div class="listing-heading">
      Hot Startups
      <div class="momentum-score-header">Momentum Score</div>
    </div>

    <ion-list class="companies-container">
      <ion-item ng-repeat="startup in startups | filter:main.searchInput | filter:main.cityInput"
                type="item-text-wrap"
                href="#/startups/{{startup.slug}}"
                class="item item-thumbnail-left">

        <img class="company-logo"
             ng-src="https://res.cloudinary.com/crunchbase-production/{{startup.primary_image[0]}}" />

        <div class="company-data">
          <div class="company-name">{{startup.name}}</div>

          <div class="company-info item-text-wrap">
            <div class="company-info-tidbit">{{startup.offices[0].city}}, {{startup.offices[0].country}}</div>

            <div class="company-info-tidbit">{{startup.number_of_employees}} Employees</div>

            <div class="company-info-tidbit item-text-wrap">{{startup.short_description.substring(0,90)}}...</div>

          </div>
        </div>
        <div ng-if="startup.closed" class="no-score">Closed</div>
        <div ng-if="startup.acquired && !startup.closed" class="no-score">Acquired</div>
        <div ng-if="startup.public && !startup.closed && !startup.acquired" class="no-score">Public</div>
        <div ng-if="startup.fundraisePercentile > 0 && startup.fundraisePercentile < 100" class="company-momentum-score" ng-class="colorScore({{startup.fundraisePercentile | number : 0}})">{{startup.fundraisePercentile | number : 0}}</div>
        <div ng-if="startup.fundraisePercentile == 100" class="company-momentum-score-small" ng-class="colorScore({{startup.fundraisePercentile | number : 0}})">{{startup.fundraisePercentile | number : 0}}</div>
        <div ng-if="startup.fundraisePercentile == 0 && !startup.public && !startup.closed && !startup.acquired" class="no-score">N/A</div>
      </ion-item>
    </ion-list>

  </ion-content>
</ion-view>
